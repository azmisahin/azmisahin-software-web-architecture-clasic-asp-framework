<h1>Api Test</h1>
<hr>

<!-- Test Bölümü-->
<section id="test">Hazırlanıyor...</section>

<!--Test Ortamı İçin Http Istek Sınıfı-->
<script src="HttpRequest.js"></script>

<!--Test Kodu-->
<script type="text/javascript">
    /// API Çağrı Örneği

    // Geri dönüş verisi
    var data = null;

    // Servisin Bulunduğu adres
    let server = document.location.origin;

    // Api Servis Adresi
    let api = 'api/test';

    // Servis Parametresi
    let parameter = window.location.search;

    // İstekte bulunulancak Tam URL
    let uri = server + '/' + api + parameter;

    // Http İsteği
    new HTTP()

        // Sync Bağlantı
        .GetSync(uri)

        // Bağlantı gerçekleştirildikten sonra
        .then((response) => {

            // Geri dönüş cevabındaki veri alınıyor.
            this.data = response.data;

            // Verileri Html e Aktar
            renderData(data);

        });

    /// Örnek Veriyi HTML e aktarır
    function renderData(data) {

        // Yeni UL Element
        var newUL = document.createElement("ul");

        // Veri ögeleri taranıyor.
        data.forEach(function (item) {

            // item içeriği / gelen veriler
            // item: { "KEY": "1", "NAME": "Test" }

            // Yeni LI Element
            var newLI = document.createElement("li");

            // Veri içeriği
            var newContent = document.createTextNode(item.KEY + ' | ' + item.NAME);

            // Veri
            newLI.appendChild(newContent);

            // UL Elementine li elementini ekler
            newUL.appendChild(newLI);
        });

        // Sayfa içerisinde aktarılıyor

        // Mevcut Bölüm seçiliyor.
        var currentSection = document.getElementById("test")

        // Hazırlanmış içerik aktarılıyor.
        currentSection.innerHTML = newUL.outerHTML;
    }
</script>